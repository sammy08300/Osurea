<!doctype html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Osu!rea - Tablet Area Visualizer</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap"
      rel="stylesheet"
    />

    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta
      name="description"
      content="Visualize and configure your osu! tablet area with precision"
    />
    <meta name="theme-color" content="#52b788" />
  </head>
  <body>
    <div class="app">
      <!-- Header -->
      <header class="header">
        <div class="header-brand">
          <svg class="logo" width="28" height="28" viewBox="0 0 32 32" fill="none">
            <circle cx="16" cy="16" r="14" stroke="currentColor" stroke-width="2" />
            <circle cx="16" cy="16" r="6" fill="currentColor" />
          </svg>
          <h1 class="header-title">Osu!rea</h1>
        </div>

        <div class="header-center">
          <div id="tablet-selector" class="tablet-selector-compact"></div>
        </div>

        <div class="header-actions">
          <div class="lang-dropdown" id="lang-dropdown">
            <button
              id="lang-toggle"
              class="header-btn lang-trigger"
              title="Change language"
              aria-label="Change language"
              aria-expanded="false"
            >
              <span id="current-lang">EN</span>
              <svg
                class="lang-chevron"
                width="10"
                height="10"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </button>
            <div class="lang-menu hidden" id="lang-menu">
              <button class="lang-option" data-locale="en">
                <span class="lang-code">EN</span>
                <span class="lang-name">English</span>
              </button>
              <button class="lang-option" data-locale="fr">
                <span class="lang-code">FR</span>
                <span class="lang-name">Français</span>
              </button>
              <button class="lang-option" data-locale="es">
                <span class="lang-code">ES</span>
                <span class="lang-name">Español</span>
              </button>
            </div>
          </div>
          <button
            id="theme-toggle"
            class="header-btn"
            title="Toggle theme"
            aria-label="Toggle theme"
          ></button>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main">
        <!-- Top Row: Config + Visualizer -->
        <div class="top-row">
          <!-- Left: Area Config -->
          <div class="config-panel">
            <!-- Comparison Mode Toggle -->
            <div class="comparison-toggle-wrapper" id="comparison-toggle-wrapper">
              <button
                id="toggle-comparison"
                class="comparison-toggle"
                title="Mode comparaison"
                aria-label="Toggle comparison mode"
              >
                <span id="comparison-icon"></span>
                <span data-i18n="comparison.toggle">Comparaison</span>
              </button>
              <div class="zone-selector hidden" id="zone-selector">
                <button class="zone-btn active" data-zone="A" id="zone-a-btn">
                  <span class="zone-indicator zone-a"></span>
                  <span>Zone A</span>
                </button>
                <button class="zone-btn" data-zone="B" id="zone-b-btn">
                  <span class="zone-indicator zone-b"></span>
                  <span>Zone B</span>
                </button>
              </div>
            </div>

            <!-- Section 1: Zone Configuration -->
            <div class="config-card config-card-main">
              <div class="config-header">
                <h2 data-i18n="area.title">Zone Active</h2>
                <div class="quick-tools header-tools">
                  <button
                    id="toggle-grid"
                    class="tool-btn active"
                    title="Grille"
                    aria-label="Toggle grid"
                  >
                    <span id="grid-icon"></span>
                  </button>
                  <button
                    id="full-area"
                    class="tool-btn"
                    title="Zone complète"
                    aria-label="Set full area"
                  >
                    <span id="fullarea-icon"></span>
                  </button>
                  <button
                    id="show-recap"
                    class="tool-btn"
                    title="Récapitulatif"
                    aria-label="Show recap"
                  >
                    <span id="recap-icon"></span>
                  </button>
                </div>
              </div>

              <div class="config-body">
                <!-- Dimensions -->
                <div class="field-row">
                  <div class="field">
                    <span class="field-label">W</span>
                    <input
                      type="number"
                      id="area-width"
                      value="100"
                      step="0.1"
                      min="1"
                      aria-label="Area width in millimeters"
                    />
                    <span class="field-unit">mm</span>
                  </div>
                  <button
                    id="lock-ratio"
                    class="btn-lock"
                    title="Lock ratio"
                    aria-label="Lock aspect ratio"
                  ></button>
                  <div class="field">
                    <span class="field-label">H</span>
                    <input
                      type="number"
                      id="area-height"
                      value="62.5"
                      step="0.1"
                      min="1"
                      aria-label="Area height in millimeters"
                    />
                    <span class="field-unit">mm</span>
                  </div>
                </div>

                <!-- Position -->
                <div class="field-row">
                  <div class="field">
                    <span class="field-label">X</span>
                    <input
                      type="number"
                      id="area-pos-x"
                      value="76"
                      step="0.1"
                      min="0"
                      aria-label="Area position X"
                    />
                  </div>
                  <div class="field">
                    <span class="field-label">Y</span>
                    <input
                      type="number"
                      id="area-pos-y"
                      value="47.5"
                      step="0.1"
                      min="0"
                      aria-label="Area position Y"
                    />
                  </div>
                </div>

                <!-- Radius slider -->
                <div class="field-slider">
                  <span class="field-label" data-i18n="area.radius">Coins</span>
                  <input
                    type="range"
                    id="area-radius"
                    min="0"
                    max="100"
                    value="0"
                    aria-label="Corner radius"
                    aria-valuemin="0"
                    aria-valuemax="100"
                    aria-valuenow="0"
                  />
                  <input
                    type="number"
                    id="radius-value"
                    class="field-value-input"
                    value="0"
                    min="0"
                    max="100"
                    aria-label="Radius value"
                  />
                  <span class="field-unit">%</span>
                </div>

                <!-- Rotation slider -->
                <div class="field-slider">
                  <span class="field-label" data-i18n="area.rotation">Rotation</span>
                  <input
                    type="range"
                    id="area-rotation"
                    min="-180"
                    max="180"
                    value="0"
                    aria-label="Rotation angle"
                    aria-valuemin="-180"
                    aria-valuemax="180"
                    aria-valuenow="0"
                  />
                  <input
                    type="number"
                    id="rotation-value"
                    class="field-value-input"
                    value="0"
                    min="-180"
                    max="180"
                    aria-label="Rotation value"
                  />
                  <span class="field-unit">°</span>
                </div>

                <!-- Custom tablet dimensions (shown when custom mode) -->
                <div id="custom-dimensions" class="custom-dimensions-section hidden">
                  <div class="section-divider"></div>
                  <div class="section-label" data-i18n="tablet.tabletDimensions">
                    Tablet Dimensions
                  </div>
                  <div class="field-row">
                    <div class="field">
                      <span class="field-label">W</span>
                      <input
                        type="number"
                        id="custom-width"
                        value="152"
                        step="0.1"
                        min="1"
                        aria-label="Custom tablet width"
                      />
                      <span class="field-unit">mm</span>
                    </div>
                    <div class="field">
                      <span class="field-label">H</span>
                      <input
                        type="number"
                        id="custom-height"
                        value="95"
                        step="0.1"
                        min="1"
                        aria-label="Custom tablet height"
                      />
                      <span class="field-unit">mm</span>
                    </div>
                  </div>
                  <div class="ratio-presets">
                    <span class="field-label" data-i18n="area.ratio">Ratio</span>
                    <div class="preset-buttons">
                      <button class="preset-btn" data-ratio="16:9">16:9</button>
                      <button class="preset-btn" data-ratio="16:10">16:10</button>
                      <button class="preset-btn" data-ratio="4:3">4:3</button>
                      <button class="preset-btn" data-ratio="1:1">1:1</button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Actions Row -->
              <div class="config-actions-compact">
                <button id="save-favorite" class="btn-primary btn-sm" title="Sauvegarder en favori">
                  <span id="save-icon"></span>
                  <span data-i18n="favorites.saveShort">Favori</span>
                </button>
                <button id="pro-players-btn" class="btn-secondary btn-sm" title="Pro Players">
                  <span id="pro-players-icon"></span>
                  <span data-i18n="proPlayers.short">Pros</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Right: Visualizer -->
          <div class="visualizer-panel">
            <div class="visualizer-frame">
              <div id="visualizer" class="visualizer"></div>

              <!-- Info overlay -->
              <div class="visualizer-info">
                <span class="info-dimensions" id="area-display">100 × 62.5</span>
                <span class="info-ratio" id="ratio-display">16:10</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Bottom: Favorites Full Width -->
        <div class="favorites-section">
          <div id="favorites" class="favorites"></div>
        </div>
      </main>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
